"use strict";

var _entity = require("../../fetchai/ledger/crypto/entity");

var _identity = require("../../fetchai/ledger/crypto/identity");

var _errors = require("../../fetchai/ledger/errors");

describe(':Identity', () => {
  test('test construction from bytes', () => {
    const entity = new _entity.Entity(); // create the identity from the identity (copy)

    const identity = new _identity.Identity(entity.public_key_bytes());
    expect(identity.public_key_bytes()).toEqual(entity.public_key_bytes());
  });
  test('test construction from identity', () => {
    const entity = new _entity.Entity(); // create the identity from the identity (copy)

    const identity = new _identity.Identity(entity);
    expect(identity.public_key_bytes()).toEqual(entity.public_key_bytes());
  });
  test('test not equal', () => {
    const entity1 = new _entity.Entity();
    const entity2 = new _entity.Entity();
    expect(entity1).not.toEqual(entity2);
  });
  test('test invalid construction', () => {
    expect(() => {
      new _identity.Identity('');
    }).toThrow(_errors.ValidationError);
  });
  test('test construction from strings', () => {
    const ref = new _entity.Entity();

    const test1 = _identity.Identity.from_hex(ref.public_key_hex());

    expect(ref.public_key()).toEqual(test1.public_key());
  });
});