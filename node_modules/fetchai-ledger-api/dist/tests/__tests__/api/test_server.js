"use strict";

var _helpers = require("../../utils/helpers");

var _axios = _interopRequireDefault(require("axios"));

var _server = require("../../../fetchai/ledger/api/server");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe(':ServerApi', () => {
  afterEach(() => {
    _axios.default.mockClear();
  });
  test('test num lanes', async () => {
    const api = new _server.ServerApi(_helpers.LOCAL_HOST, _helpers.DEFAULT_PORT);
    const num_lanes = await api.num_lanes();
    expect(_axios.default).toHaveBeenCalledTimes(1);
    await expect(num_lanes).toBe(3);
  });
  test('test version', async () => {
    const api = new _server.ServerApi(_helpers.LOCAL_HOST, _helpers.DEFAULT_PORT);
    const version = await api.version();
    expect(_axios.default).toHaveBeenCalledTimes(1);
    expect(version).toBe('0.9.0');
  });
});