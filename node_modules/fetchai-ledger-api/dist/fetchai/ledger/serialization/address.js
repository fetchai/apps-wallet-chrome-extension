"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.decode_address = exports.encode_address = void 0;

var _address = require("../../../fetchai/ledger/crypto/address");

const BYTE_LENGTH = 32;

const encode_address = (buffer, address) => {
  if (address instanceof _address.Address) {
    return Buffer.concat([buffer, Buffer.from(address.toHex(), 'hex')]);
  } else {
    // address is in hex format
    return Buffer.concat([buffer, Buffer.from(address, 'hex')]);
  }
};

exports.encode_address = encode_address;

const decode_address = buffer => {
  const address_raw = buffer.slice(0, BYTE_LENGTH);
  buffer = buffer.slice(BYTE_LENGTH);
  return [new _address.Address(address_raw), buffer];
};

exports.decode_address = decode_address;